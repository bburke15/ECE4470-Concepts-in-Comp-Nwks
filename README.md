# ECE4470-Protocol-Stack
Implemented a four-layer reference model (where layer 4 is the top-most application layer and layer 1 is the bottom-most physical layer) for communication between two hosts in C. Any instance of the program runs in either send or receive mode. When in send mode, the program divides a sendfile up into packets (max size 120 bytes before stuffing), adds headers and trailers, inserts a stuffed DLE character before any occurrence of a control character (STX, ETX, or DLE) in the data portion of each packet (max packet size is 180 bytes after stuffing), and transmits the packets to the inputted receiver IP address. When in receive mode, the program performs a checksum on each packet to ensure no data was corrupted in transit, removes stuffed characters from the data portion of each frame as well as all headers and trailers, and writes the data to an outfile. Project was completed in three phases. First, the basic sending and receiving packet operations (across layers 2-4) were implemented. Second, checksumming and DLE character stuffing were implemented. Finally, sending and receiving IP addresses (provided by the user) were integrated into the L3PDU to make transmission and reception of packets between two different host computers possible. The third and most recent phase of the project (which includes all functionality from the prior two phases) is included here.

Directions on how to run:


Note: The Lab 3 program was built directly on top of the lab 2 program, thus the executable is still run by entering  $>./lab1 r (receive mode) or $>./lab1 s (send mode) from the obj folder. That is, the lab 3 executable is still called lab1.

Note: When running the program in send mode, you will be asked for a source and destination IP address, and their respective sizes. Use the ‘ifconfig’ command to identify your machine’s IP address (to receive frames over the network); an example IP would be 10.132.29.226. In regards to giving the size in bytes of the IP, each character of the IP is 1 byte. So, in the example of 10.132.29.226, ‘1’ is 1 byte, ‘0’ is 1 byte, ‘.’ is 1 byte, etc. Counting up the number of bytes (essentially just the number of characters in the IP, including the ‘.’), we find that 10.132.29.226 has 13 bytes. When prompted for the size of this IP, you would enter ‘13’ and press Enter.

Note: VUMobile and the layer1.o functionality are sometimes a little finicky. If the receive program is left running for a long time before transmission occurs, and/or if the wi-fi signal is wavering, then receive may not catch all frames and, as expected, the checksums will not match. If this occurs, then just double-check that the computer is connected to wi-fi, and run the receive and transmit programs again. I recommend running the receive executable near to the time (slightly before) that the transmit executable is run to ensure that all frames are received over the network.

This lab 3 program works according to specification (that is, the program works correctly), so all checksums will match and the transmission and receive functionalities will work as expected so long as the programs are run properly.

